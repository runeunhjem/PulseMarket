<!-- ADD USER MODAL -->
<div class="modal fade" id="addUserModal" tabindex="-1" aria-labelledby="addUserModalLabel" aria-hidden="true">
  <div class="alert alert-danger d-none" id="add-user-error"></div>
  <div class="modal-dialog modal-lg">
    <form id="addUserForm" class="modal-content bg-dark text-light" autocomplete="on">
      <div class="modal-header">
        <h5 class="modal-title" id="addUserModalLabel">Add User</h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body row g-3">
        <div class="col-md-6">
          <label for="add-username" class="form-label">Username</label>
          <input
            type="text"
            id="add-username"
            name="username"
            class="form-control"
            autocomplete="username"
            required
            placeholder="johndoe123" />
        </div>

        <div class="col-md-6">
          <label for="add-email" class="form-label">Email</label>
          <input
            type="email"
            id="add-email"
            name="email"
            class="form-control"
            autocomplete="email"
            required
            placeholder="john@example.com" />
        </div>

        <div class="col-md-6">
          <label for="add-password" class="form-label">Password</label>
          <input
            type="password"
            id="add-password"
            name="password"
            class="form-control"
            autocomplete="new-password"
            required
            placeholder="Min. 8 chars incl. capital & number" />
        </div>

        <div class="col-md-6">
          <label for="add-role" class="form-label">Role</label>
          <select id="add-role" name="role" class="form-select" required>
            <% roles.forEach(role => { %>
            <option value="<%= role.id %>" data-default-membership="<%= role.defaultMembershipId %>">
              <%= role.name %>
            </option>
            <% }) %>
          </select>
        </div>

        <div class="col-md-6">
          <label for="add-membership" class="form-label">Membership (auto-set by role)</label>
          <select id="add-membership" name="membership" class="form-select" disabled>
            <% memberships.forEach(m => { %>
            <option value="<%= m.name %>"><%= m.name %></option>
            <% }) %>
          </select>
        </div>

        <div class="col-md-6">
          <label for="add-firstname" class="form-label">First Name</label>
          <input
            type="text"
            id="add-firstname"
            name="firstname"
            class="form-control"
            autocomplete="given-name"
            required
            placeholder="John" />
        </div>

        <div class="col-md-6">
          <label for="add-lastname" class="form-label">Last Name</label>
          <input
            type="text"
            id="add-lastname"
            name="lastname"
            class="form-control"
            autocomplete="family-name"
            required
            placeholder="Doe" />
        </div>

        <div class="col-md-6">
          <label for="add-address" class="form-label">Address</label>
          <input
            type="text"
            id="add-address"
            name="address"
            class="form-control"
            autocomplete="street-address"
            required
            placeholder="123 Example Street" />
        </div>

        <div class="col-md-6">
          <label for="add-phone" class="form-label">Phone</label>
          <input
            type="text"
            id="add-phone"
            name="phone"
            class="form-control"
            autocomplete="tel"
            required
            placeholder="12345678" />
        </div>
      </div>
      <div class="modal-footer">
        <button type="submit" class="btn btn-success">Add User</button>
      </div>
    </form>
  </div>
</div>

<!-- EDIT USER MODAL -->
<div class="modal fade" id="editUserModal" tabindex="-1" aria-labelledby="editUserModalLabel" aria-hidden="true">
  <div class="alert alert-danger d-none" id="edit-user-error"></div>
  <div class="modal-dialog modal-lg">
    <form id="editUserForm" class="modal-content bg-dark text-light">
      <div class="modal-header">
        <h5 class="modal-title" id="editUserModalLabel">Edit User</h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body row g-3">
        <input type="hidden" id="edit-id" name="id" />

        <div class="col-md-6">
          <label for="edit-username" class="form-label">Username</label>
          <input type="text" id="edit-username" name="username" class="form-control" readonly />
        </div>

        <div class="col-md-6">
          <label for="edit-email" class="form-label">Email</label>
          <input type="email" id="edit-email" name="email" class="form-control" required />
        </div>

        <div class="col-md-6">
          <label for="edit-role" class="form-label">Role</label>
          <select id="edit-role" name="role" class="form-select">
            <option value="User">User</option>
            <option value="Admin">Admin</option>
            <option value="Staff">Staff</option>
            <option value="Support">Support</option>
          </select>
        </div>

        <div class="col-md-6">
          <label for="edit-membership" class="form-label">Membership</label>
          <select id="edit-membership" name="membership" class="form-select">
            <% memberships.forEach(m => { %>
            <option value="<%= m.name %>"><%= m.name %></option>
            <% }) %>
          </select>
        </div>

        <div class="col-md-6">
          <label for="edit-firstname" class="form-label">First Name</label>
          <input type="text" id="edit-firstname" name="firstname" class="form-control" />
        </div>

        <div class="col-md-6">
          <label for="edit-lastname" class="form-label">Last Name</label>
          <input type="text" id="edit-lastname" name="lastname" class="form-control" />
        </div>

        <div class="col-md-6">
          <label for="edit-address" class="form-label">Address</label>
          <input type="text" id="edit-address" name="address" class="form-control" />
        </div>

        <div class="col-md-6">
          <label for="edit-phone" class="form-label">Phone</label>
          <input type="text" id="edit-phone" name="phone" class="form-control" />
        </div>
      </div>
      <div class="modal-footer">
        <button type="submit" class="btn btn-primary">Save Changes</button>
      </div>
    </form>
  </div>
</div>

<!-- DELETE USER MODAL -->
<div class="modal fade" id="deleteUserModal" tabindex="-1" aria-labelledby="deleteUserModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <form id="deleteUserForm" class="modal-content bg-dark text-light">
      <div class="modal-header">
        <h5 class="modal-title" id="deleteUserModalLabel">Confirm Delete</h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        Are you sure you want to permanently delete user <strong id="delete-username">this user</strong>?
        <input type="hidden" id="delete-id" name="id" />
      </div>
      <div class="modal-footer">
        <button type="submit" class="btn btn-danger">Delete User</button>
      </div>
    </form>
  </div>
</div>
